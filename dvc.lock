schema: '2.0'
stages:
  create_simulation_turbines:
    cmd: SIMULATION=1 PYTHONPATH=$PYTHONPATH:$PWD python3 scripts/create_simulation_turbines.py
    deps:
    - path: scripts
      md5: 1a9dadb29ef5191e3a75c527fc9f5b89.dir
      size: 47005
      nfiles: 14
    - path: src
      md5: 9566bde63ee95f8f0375d3145dca2dca.dir
      size: 105529
      nfiles: 19
    outs:
    - path: data-simulation/input/wind_turbines_usa
      md5: d1ccba96736ac69950b6a2a9ab808b85.dir
      size: 411546
      nfiles: 6
  preprocess_turbines_simulation:
    cmd: SIMULATION=1 PYTHONPATH=$PYTHONPATH:$PWD python3 scripts/preprocess_turbines.py
    deps:
    - path: data-simulation/input/wind_turbines_usa
      md5: d1ccba96736ac69950b6a2a9ab808b85.dir
      size: 411546
      nfiles: 6
    - path: scripts
      md5: 1a9dadb29ef5191e3a75c527fc9f5b89.dir
      size: 47005
      nfiles: 14
    - path: src
      md5: 9566bde63ee95f8f0375d3145dca2dca.dir
      size: 105529
      nfiles: 19
    outs:
    - path: data-simulation/output/turbines
      md5: 422b699bb9162c73edb8723edc21f512.dir
      size: 1877939
      nfiles: 2
  create_simulation_data:
    cmd: SIMULATION=1 PYTHONPATH=$PYTHONPATH:$PWD python3 scripts/create_simulation_data.py
    deps:
    - path: data-simulation/output/turbines
      md5: 422b699bb9162c73edb8723edc21f512.dir
      size: 1877939
      nfiles: 2
    - path: scripts
      md5: 1a9dadb29ef5191e3a75c527fc9f5b89.dir
      size: 47005
      nfiles: 14
    - path: src
      md5: 9566bde63ee95f8f0375d3145dca2dca.dir
      size: 105529
      nfiles: 19
    outs:
    - path: data-simulation/input/p_out_eia
      md5: f89350c269a9a4542c0b9e60c3905067.dir
      size: 7968
      nfiles: 1
    - path: data-simulation/input/wind_velocity_usa_era5
      md5: 94fb0bc9491885c6fb96ee6c58612f3d.dir
      size: 2490696432
      nfiles: 252
  wind_speed_simulation:
    cmd: SIMULATION=1 PYTHONPATH=$PYTHONPATH:$PWD python3 scripts/calc_wind_speed.py
    deps:
    - path: data-simulation/input/p_out_eia
      md5: f89350c269a9a4542c0b9e60c3905067.dir
      size: 7968
      nfiles: 1
    - path: data-simulation/input/wind_velocity_usa_era5
      md5: 94fb0bc9491885c6fb96ee6c58612f3d.dir
      size: 2490696432
      nfiles: 252
    - path: data-simulation/output/turbines
      md5: 422b699bb9162c73edb8723edc21f512.dir
      size: 1877939
      nfiles: 2
    - path: scripts
      md5: 1a9dadb29ef5191e3a75c527fc9f5b89.dir
      size: 47005
      nfiles: 14
    - path: src
      md5: 9566bde63ee95f8f0375d3145dca2dca.dir
      size: 105529
      nfiles: 19
    outs:
    - path: data-simulation/interim/wind_speed
      md5: 7095635b3af5007e684e93db00eac6ee.dir
      size: 66882606
      nfiles: 42
  calc_turbine_time_series_simulation:
    cmd: SIMULATION=1 PYTHONPATH=$PYTHONPATH:$PWD python3 scripts/calc_turbine_time_series.py
    deps:
    - path: data-simulation/input/p_out_eia
      md5: f89350c269a9a4542c0b9e60c3905067.dir
      size: 7968
      nfiles: 1
    - path: data-simulation/output/turbines
      md5: 422b699bb9162c73edb8723edc21f512.dir
      size: 1877939
      nfiles: 2
    outs:
    - path: data-simulation/output/turbine-time-series
      md5: 1cae7020e89ed71ff977c02bda866790.dir
      size: 8581456
      nfiles: 5
  calc_p_in_simulation:
    cmd: SIMULATION=1 PYTHONPATH=$PYTHONPATH:$PWD python3 scripts/calc_p_in.py
    deps:
    - path: data-simulation/input/p_out_eia
      md5: f89350c269a9a4542c0b9e60c3905067.dir
      size: 7968
      nfiles: 1
    - path: data-simulation/interim/wind_speed
      md5: 7095635b3af5007e684e93db00eac6ee.dir
      size: 66882606
      nfiles: 42
    - path: data-simulation/output/turbine-time-series
      md5: 1cae7020e89ed71ff977c02bda866790.dir
      size: 8581456
      nfiles: 5
    - path: data-simulation/output/turbines
      md5: 422b699bb9162c73edb8723edc21f512.dir
      size: 1877939
      nfiles: 2
    - path: src
      md5: 9566bde63ee95f8f0375d3145dca2dca.dir
      size: 105529
      nfiles: 19
    outs:
    - path: data-simulation/output/p_in
      md5: d8b1fffa00a1ebfccfd7d4f88a5c2c6f.dir
      size: 1509054
      nfiles: 2
  calc_p_out_model_simulation:
    cmd: SIMULATION=1 PYTHONPATH=$PYTHONPATH:$PWD python3 scripts/calc_p_out_model.py
    deps:
    - path: data-simulation/interim/wind_speed
      md5: 7095635b3af5007e684e93db00eac6ee.dir
      size: 66882606
      nfiles: 42
    - path: data-simulation/output/turbines
      md5: 422b699bb9162c73edb8723edc21f512.dir
      size: 1877939
      nfiles: 2
    - path: scripts
      md5: 872a9711601eacf9902f246302a06e82.dir
      size: 47003
      nfiles: 14
    - path: src
      md5: 9566bde63ee95f8f0375d3145dca2dca.dir
      size: 105529
      nfiles: 19
    outs:
    - path: data-simulation/output/p_out_model
      md5: 7108d5fb9f79c8a0ff62cae20a66926b.dir
      size: 7543270
      nfiles: 10
  checks_simulation:
    cmd: SIMULATION=1 PYTHONPATH=$PYTHONPATH:$PWD python3 scripts/run_checks.py
    deps:
    - path: data-simulation/input/p_out_eia
      md5: f89350c269a9a4542c0b9e60c3905067.dir
      size: 7968
      nfiles: 1
    - path: data-simulation/interim/wind_speed
      md5: 7095635b3af5007e684e93db00eac6ee.dir
      size: 66882606
      nfiles: 42
    - path: data-simulation/output/p_in
      md5: d8b1fffa00a1ebfccfd7d4f88a5c2c6f.dir
      size: 1509054
      nfiles: 2
    - path: data-simulation/output/p_out_model
      md5: 7108d5fb9f79c8a0ff62cae20a66926b.dir
      size: 7543270
      nfiles: 10
    - path: data-simulation/output/turbine-time-series
      md5: 1cae7020e89ed71ff977c02bda866790.dir
      size: 8581456
      nfiles: 5
    - path: data-simulation/output/turbines
      md5: 422b699bb9162c73edb8723edc21f512.dir
      size: 1877939
      nfiles: 2
    - path: scripts
      md5: 872a9711601eacf9902f246302a06e82.dir
      size: 47003
      nfiles: 14
    - path: src
      md5: 9566bde63ee95f8f0375d3145dca2dca.dir
      size: 105529
      nfiles: 19
